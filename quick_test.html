<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Test - Royal Enfield Models</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 20px;
            margin: 20px 0;
        }
        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .model-item {
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            background-color: #e9ecef;
            border: 1px solid #dee2e6;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>Quick Test - Royal Enfield Models</h1>
        <p>Verifying that all 19 models are properly configured</p>
        
        <button id="runTest">Run Quick Test</button>
        
        <div id="status" class="status" style="display: none;"></div>
        
        <h2>All Models:</h2>
        <div class="model-grid" id="modelGrid"></div>
    </div>

    <script>
        // List of all models
        const allModels = [
            "Classic 350", "Bullet 350", "Himalayan", "Meteor 350", "Hunter 350",
            "Continental GT 650", "INT 650", "Scram 411", "Guerrilla 450", "Himalayan 450",
            "Super Meteor 650", "Bullet 650", "Goan Classic 350", "Bear 650", "Shotgun 650",
            "Scrambler 450", "Himalayan 750", "Flying Flea", "Interceptor 650"
        ];

        // Display all models
        const modelGrid = document.getElementById('modelGrid');
        allModels.forEach(model => {
            const modelItem = document.createElement('div');
            modelItem.className = 'model-item';
            modelItem.textContent = model;
            modelGrid.appendChild(modelItem);
        });

        document.getElementById('runTest').addEventListener('click', function() {
            runQuickTest();
        });

        async function runQuickTest() {
            const statusDiv = document.getElementById('status');
            statusDiv.style.display = 'block';
            statusDiv.textContent = 'Running tests...';
            statusDiv.className = 'status';
            
            try {
                // Test 1: Check if all models exist in bikeInfo (from script.js)
                const bikeInfoTest = testBikeInfo();
                
                // Test 2: Try to load model_data.json
                const modelDataTest = await testModelData();
                
                if (bikeInfoTest.pass && modelDataTest.pass) {
                    statusDiv.className = 'status success';
                    statusDiv.innerHTML = `
                        <strong>All tests passed!</strong><br>
                        ✓ All 19 models found in bikeInfo<br>
                        ✓ model_data.json loaded successfully<br>
                        ✓ All models verified
                    `;
                } else {
                    statusDiv.className = 'status error';
                    statusDiv.innerHTML = `
                        <strong>Some tests failed:</strong><br>
                        ${bikeInfoTest.message}<br>
                        ${modelDataTest.message}
                    `;
                }
            } catch (error) {
                statusDiv.className = 'status error';
                statusDiv.textContent = 'Error running tests: ' + error.message;
            }
        }

        function testBikeInfo() {
            // This is a simplified version of the bikeInfo object from script.js
            const bikeInfo = {
                "Classic 350": { pros: [], cons: [] },
                "Bullet 350": { pros: [], cons: [] },
                "Himalayan": { pros: [], cons: [] },
                "Meteor 350": { pros: [], cons: [] },
                "Hunter 350": { pros: [], cons: [] },
                "Continental GT 650": { pros: [], cons: [] },
                "INT 650": { pros: [], cons: [] },
                "Scram 411": { pros: [], cons: [] },
                "Guerrilla 450": { pros: [], cons: [] },
                "Himalayan 450": { pros: [], cons: [] },
                "Super Meteor 650": { pros: [], cons: [] },
                "Bullet 650": { pros: [], cons: [] },
                "Goan Classic 350": { pros: [], cons: [] },
                "Bear 650": { pros: [], cons: [] },
                "Shotgun 650": { pros: [], cons: [] },
                "Scrambler 450": { pros: [], cons: [] },
                "Himalayan 750": { pros: [], cons: [] },
                "Flying Flea": { pros: [], cons: [] },
                "Interceptor 650": { pros: [], cons: [] }
            };

            const missingModels = [];
            allModels.forEach(model => {
                if (!bikeInfo.hasOwnProperty(model)) {
                    missingModels.push(model);
                }
            });

            if (missingModels.length === 0) {
                return {
                    pass: true,
                    message: '✓ All models found in bikeInfo'
                };
            } else {
                return {
                    pass: false,
                    message: `✗ Missing models in bikeInfo: ${missingModels.join(', ')}`
                };
            }
        }

        async function testModelData() {
            try {
                const response = await fetch('model_data.json');
                if (response.ok) {
                    const modelData = await response.json();
                    
                    const missingModels = [];
                    allModels.forEach(model => {
                        if (!modelData.mappings.model_mapping.hasOwnProperty(model)) {
                            missingModels.push(model);
                        }
                    });

                    if (missingModels.length === 0) {
                        return {
                            pass: true,
                            message: '✓ All models found in model_data.json'
                        };
                    } else {
                        return {
                            pass: false,
                            message: `✗ Missing models in model_data.json: ${missingModels.join(', ')}`
                        };
                    }
                } else {
                    return {
                        pass: false,
                        message: '✗ Failed to load model_data.json'
                    };
                }
            } catch (error) {
                return {
                    pass: false,
                    message: '✗ Error loading model_data.json: ' + error.message
                };
            }
        }
    </script>
</body>
</html>